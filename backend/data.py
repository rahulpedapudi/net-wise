# Digital Competence Framework Data
# Organized by DigComp areas for easier frontend access

questions_data = {
    # 1: Information and Data Literacy
    # 2 : Communicating through digital technologies
    # 3: Digital content creation
    # 4: Safetey and security
    # 5: Problem solving

    "1.1": {
        "title": "Browsing, searching and filtering data, information and digital content",
        "description": "To articulate information needs, to search for data, information and content in digital environments, to access them and to navigate between them. To create and update personal search strategies.",
        "questions": [
            {
                "id": "1.1.1",
                "statement": "I know that different search engines may give different search results, because they are influenced by commercial factors.",
                "type": "K",
                "level": "I"
            },
            {
                "id": "1.1.2",
                "statement": "I know which words to use in order to find what I need quickly (e.g. to search online or within a document).",
                "type": "K",
                "level": "F"
            },
            {
                "id": "1.1.3",
                "statement": "When I use a search engine, I can take advantage of its advanced features.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "1.1.4",
                "statement": "I know how to find a website I have visited before.",
                "type": "S",
                "level": "F"
            }
        ]
    },
    "1.2": {
        "title": "Evaluating data, information and digital content",
        "description": "To analyse, compare and critically evaluate the credibility and reliability of sources of data, information and digital content. To analyse, interpret and critically evaluate digital data, information and digital content.",
        "questions": [
            {
                "id": "1.2.1",
                "statement": "I know how to differentiate promoted content from other content I find or receive online (e.g. recognising an advert on social media or search engines).",
                "type": "S",
                "level": "I"
            },
            {
                "id": "1.2.2",
                "statement": "I know how to identify the purpose of an online information source (e.g. to inform, influence, entertain, or sell).",
                "type": "S",
                "level": "I"
            },
            {
                "id": "1.2.3",
                "statement": "I critically check if the information I find online is reliable.",
                "type": "A",
                "level": "I"
            },
            {
                "id": "1.2.4",
                "statement": "I know that some information on the Internet is false (e.g. fake news).",
                "type": "K",
                "level": "F"
            }
        ]
    },
    "1.3": {
        "title": "Managing data, information and digital content",
        "description": "To organise, store and retrieve data, information and content in digital environments. To organise and process them in a structured environment.",
        "questions": [
            {
                "id": "1.3.1",
                "statement": "I know about different storage media (e.g. internal or external hard disk, USB memory, pen drive, memory card).",
                "type": "K",
                "level": "I"
            },
            {
                "id": "1.3.2",
                "statement": "I know how to organise digital content (e.g. documents, images, videos) using folders or tagging to find them back later.",
                "type": "S",
                "level": "F"
            },
            {
                "id": "1.3.3",
                "statement": "I know how to copy and move files (e.g. documents, images, videos) between folders, devices or on the cloud.",
                "type": "S",
                "level": "F"
            },
            {
                "id": "1.3.4",
                "statement": "I know how to manage and analyse data using software (e.g. sorting, filtering, calculations).",
                "type": "S",
                "level": "I"
            }
        ]
    },
    "2.1": {
        "title": "Interacting through digital technologies",
        "description": "To interact through a variety of digital technologies and to understand appropriate digital communication means for a given context.",
        "questions": [
            {
                "id": "2.1.1",
                "statement": "I know how to send, reply and forward e-mails.",
                "type": "S",
                "level": "F"
            },
            {
                "id": "2.1.2",
                "statement": "I know that many communication services and social media are free of charge because they are paid for by advertising.",
                "type": "S",
                "level": "F"
            },
            {
                "id": "2.1.3",
                "statement": "I know how to use advanced videoconferencing features (e.g. moderating, recording audio and video).",
                "type": "S",
                "level": "I"
            },
            {
                "id": "2.1.4",
                "statement": "I know which communication tools and services (e.g. phone, email, video conference, text message) are appropriate to use in different circumstances.",
                "type": "K",
                "level": "F"
            }
        ]
    },
    "2.2": {
        "title": "Sharing through digital technologies",
        "description": "To share data, information and digital content with others through appropriate digital technologies. To act as an intermediary, to know about referencing and attribution practices.",
        "questions": [
            {
                "id": "2.2.1",
                "statement": "I am open towards sharing digital content that I think might be interesting and useful to others.",
                "type": "A",
                "level": "I"
            },
            {
                "id": "2.2.2",
                "statement": "I know how to use cloud services (e.g. Google Drive, DropBox and OneDrive) to share my files.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "2.2.3",
                "statement": "I know how to change who I share content with (e.g. friends, friends of friends, everyone).",
                "type": "S",
                "level": "I"
            },
            {
                "id": "2.2.4",
                "statement": "I know how to reference the source of documents (e.g. the author or web address) that I found online.",
                "type": "S",
                "level": "I"
            }
        ]
    },
    "2.3": {
        "title": "Engaging in citizenship through digital technologies",
        "description": "To participate in society through the use of public and private digital services. To seek opportunities for self-empowerment and for participatory citizenship through appropriate digital technologies.",
        "questions": [
            {
                "id": "2.3.1",
                "statement": "I know how to apply for a job using a digital platform (e.g. fill in a form, upload my CV and photo).",
                "type": "S",
                "level": "F"
            },
            {
                "id": "2.3.2",
                "statement": "I know that many public services are available on the Internet (e.g. booking a health visit, submitting tax declaration, requesting birth, marriage, residence and other certificates).",
                "type": "K",
                "level": "I"
            },
            {
                "id": "2.3.3",
                "statement": "I know how to pay for goods and services that I buy online (e.g. using direct bank transfer, credit/debit cards, other online payment systems).",
                "type": "S",
                "level": "F"
            },
            {
                "id": "2.3.4",
                "statement": "It matters to me to debate social or political issues online (e.g. in online forums, news sites, Facebook, Twitter).",
                "type": "A",
                "level": "I"
            }
        ]
    },
    "2.4": {
        "title": "Collaborating through digital technologies",
        "description": "To use digital tools and technologies for collaborative processes, and for co-construction and co-creation of resources and knowledge.",
        "questions": [
            {
                "id": "2.4.1",
                "statement": "I understand the benefits of remote collaboration (e.g. reduced commuting time).",
                "type": "A",
                "level": "I"
            },
            {
                "id": "2.4.2",
                "statement": "I know how to edit a shared, online document.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "2.4.3",
                "statement": "I know how to invite others and give appropriate permissions to collaborate on a shared document.",
                "type": "S",
                "level": "I"
            }
        ]
    },
    "2.5": {
        "title": "Netiquette",
        "description": "To be aware of behavioural norms and know-how while using digital technologies and interacting in digital environments. To adapt communication strategies to the specific audience and to be aware of cultural and generational diversity in digital environments.",
        "questions": [
            {
                "id": "2.5.1",
                "statement": "I am aware that I should ask permission from a person before publishing or sharing photos about them.",
                "type": "K",
                "level": "F"
            },
            {
                "id": "2.5.2",
                "statement": "I know how to recognise online messages and behaviours that attack certain groups or individuals (e.g. hate speech).",
                "type": "S",
                "level": "F"
            },
            {
                "id": "2.5.3",
                "statement": "I can take the right measures if someone is doing the wrong thing online (e.g. an offensive comment, threats).",
                "type": "S",
                "level": "I"
            },
            {
                "id": "2.5.4",
                "statement": "I know how to behave online according to the situation (e.g. formal vs informal).",
                "type": "K",
                "level": "F"
            }
        ]
    },
    "2.6": {
        "title": "Managing digital identity",
        "description": "To create, and manage one or multiple digital identities, to be able to protect one's own reputation, to deal with the data that one produces through several digital tools, environments and services.",
        "questions": [
            {
                "id": "2.6.1",
                "statement": "I know my digital identity is everything that identifies me in online environments (e.g. usernames, likes and posts on social media, petitions signed online).",
                "type": "K",
                "level": "I"
            },
            {
                "id": "2.6.2",
                "statement": "I know how to create a profile in digital environments for personal or professional purposes.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "2.6.3",
                "statement": "I know that the EU introduced regulation on The Right to Be Forgotten (i.e. to have one's private information removed from the Internet).",
                "type": "K",
                "level": "I"
            },
            {
                "id": "2.6.4",
                "statement": "I know how to configure the settings in my Internet browser to prevent or limit cookies.",
                "type": "S",
                "level": "A"
            }
        ]
    },
    "3.1": {
        "title": "Developing digital content",
        "description": "To create and edit digital content in different formats, to express oneself through digital means.",
        "questions": [
            {
                "id": "3.1.1",
                "statement": "I can create a simple text document using a word processor.",
                "type": "S",
                "level": "F"
            },
            {
                "id": "3.1.2",
                "statement": "I can create a simple presentation with text and images.",
                "type": "S",
                "level": "F"
            },
            {
                "id": "3.1.3",
                "statement": "I can edit digital images (e.g. crop, resize, adjust brightness).",
                "type": "S",
                "level": "I"
            },
            {
                "id": "3.1.4",
                "statement": "I can create simple charts and graphs to present data.",
                "type": "S",
                "level": "I"
            }
        ]
    },
    "3.2": {
        "title": "Integrating and re-elaborating digital content",
        "description": "To modify, refine, improve and integrate information and content into an existing body of knowledge while understanding how copyright and licences are to be applied.",
        "questions": [
            {
                "id": "3.2.1",
                "statement": "I can combine different types of information (text, images, data) into a single document.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "3.2.2",
                "statement": "I can use templates to create professional-looking documents.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "3.2.3",
                "statement": "I can adapt existing content for different purposes and audiences.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "3.2.4",
                "statement": "I can use collaborative tools to work on content with others.",
                "type": "S",
                "level": "I"
            }
        ]
    },
    "3.3": {
        "title": "Copyright and licences",
        "description": "To understand how copyright and licences apply to data, information and digital content.",
        "questions": [
            {
                "id": "3.3.1",
                "statement": "I know that most content on the Internet is protected by copyright.",
                "type": "K",
                "level": "F"
            },
            {
                "id": "3.3.2",
                "statement": "I can identify when I need permission to use someone else's work.",
                "type": "K",
                "level": "I"
            },
            {
                "id": "3.3.3",
                "statement": "I know about Creative Commons licences and what they allow.",
                "type": "K",
                "level": "I"
            },
            {
                "id": "3.3.4",
                "statement": "I can properly attribute sources when using others' work.",
                "type": "S",
                "level": "I"
            }
        ]
    },
    "3.4": {
        "title": "Programming",
        "description": "To plan and develop a sequence of understandable instructions for a computing system to solve a given problem or perform a specific task.",
        "questions": [
            {
                "id": "3.4.1",
                "statement": "I can write simple instructions to automate a repetitive task.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "3.4.2",
                "statement": "I understand basic programming concepts like variables and loops.",
                "type": "K",
                "level": "I"
            },
            {
                "id": "3.4.3",
                "statement": "I can use simple programming tools to create basic applications.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "3.4.4",
                "statement": "I can debug simple code and fix basic errors.",
                "type": "S",
                "level": "I"
            }
        ]
    },
    "4.1": {
        "title": "Protecting devices",
        "description": "To protect devices and digital content, and to understand risks and threats in digital environments. To know about safety and security measures and to have a due regard to reliability and privacy.",
        "questions": [
            {
                "id": "4.1.1",
                "statement": "I know how to use antivirus software to protect my devices.",
                "type": "S",
                "level": "F"
            },
            {
                "id": "4.1.2",
                "statement": "I can create strong passwords and use password managers.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "4.1.3",
                "statement": "I know how to enable two-factor authentication on my accounts.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "4.1.4",
                "statement": "I can identify suspicious emails and avoid phishing attempts.",
                "type": "S",
                "level": "I"
            }
        ]
    },
    "4.2": {
        "title": "Protecting personal data and privacy",
        "description": "To protect personal data and privacy in digital environments. To understand how to use and share personally identifiable information while being able to protect oneself and others from damages.",
        "questions": [
            {
                "id": "4.2.1",
                "statement": "I know what personal data is and why it should be protected.",
                "type": "K",
                "level": "F"
            },
            {
                "id": "4.2.2",
                "statement": "I can adjust privacy settings on social media and online services.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "4.2.3",
                "statement": "I know about data protection laws and my rights.",
                "type": "K",
                "level": "I"
            },
            {
                "id": "4.2.4",
                "statement": "I can identify when apps or websites are collecting too much personal information.",
                "type": "K",
                "level": "I"
            }
        ]
    },
    "4.3": {
        "title": "Protecting health and well-being",
        "description": "To be able to avoid health-risks and threats to physical and psychological well-being while using digital technologies. To be able to protect oneself and others from possible dangers in digital environments.",
        "questions": [
            {
                "id": "4.3.1",
                "statement": "I know how to maintain good posture when using digital devices.",
                "type": "K",
                "level": "F"
            },
            {
                "id": "4.3.2",
                "statement": "I can manage my screen time to avoid digital addiction.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "4.3.3",
                "statement": "I know how to protect my eyes from digital eye strain.",
                "type": "K",
                "level": "F"
            },
            {
                "id": "4.3.4",
                "statement": "I can identify when digital technology use is affecting my mental health.",
                "type": "K",
                "level": "I"
            }
        ]
    },
    "4.4": {
        "title": "Protecting the environment",
        "description": "To be aware of the environmental impact of digital technologies and their use.",
        "questions": [
            {
                "id": "4.4.1",
                "statement": "I know that digital technologies consume energy and have environmental impact.",
                "type": "K",
                "level": "F"
            },
            {
                "id": "4.4.2",
                "statement": "I can reduce my digital carbon footprint by managing my online activities.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "4.4.3",
                "statement": "I know how to dispose of electronic devices responsibly.",
                "type": "K",
                "level": "F"
            },
            {
                "id": "4.4.4",
                "statement": "I can choose energy-efficient digital solutions when possible.",
                "type": "S",
                "level": "I"
            }
        ]
    },
    "5.1": {
        "title": "Solving technical problems",
        "description": "To identify needs and problems, and to resolve conceptual problems and problem situations in digital environments. To be able to solve problems from other fields of knowledge and of practice.",
        "questions": [
            {
                "id": "5.1.1",
                "statement": "I can identify common technical problems with my devices.",
                "type": "K",
                "level": "F"
            },
            {
                "id": "5.1.2",
                "statement": "I can use online resources to find solutions to technical problems.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "5.1.3",
                "statement": "I can troubleshoot basic software and hardware issues.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "5.1.4",
                "statement": "I know when to seek professional help for technical problems.",
                "type": "K",
                "level": "I"
            }
        ]
    },
    "5.2": {
        "title": "Identifying needs and technological responses",
        "description": "To assess needs and to identify, evaluate, select and use digital tools and possible technological responses to solve them. To adjust and customise digital environments to personal needs.",
        "questions": [
            {
                "id": "5.2.1",
                "statement": "I can identify what digital tools I need for specific tasks.",
                "type": "K",
                "level": "I"
            },
            {
                "id": "5.2.2",
                "statement": "I can compare different software options to find the best one for my needs.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "5.2.3",
                "statement": "I can customize software settings to work better for me.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "5.2.4",
                "statement": "I can adapt to new digital tools and technologies quickly.",
                "type": "S",
                "level": "I"
            }
        ]
    },
    "5.3": {
        "title": "Using digital tools to innovate processes and products",
        "description": "To use digital tools and technologies to create knowledge and to innovate processes and products. To engage individually and collectively in cognitive processing to understand and resolve conceptual problems and problem situations in digital environments.",
        "questions": [
            {
                "id": "5.3.1",
                "statement": "I can use digital tools to create new solutions to problems.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "5.3.2",
                "statement": "I can use data analysis tools to gain insights and make decisions.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "5.3.3",
                "statement": "I can use digital tools to automate repetitive tasks and improve efficiency.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "5.3.4",
                "statement": "I can collaborate with others using digital tools to solve complex problems.",
                "type": "S",
                "level": "I"
            }
        ]
    },
    "5.4": {
        "title": "Identifying digital competence gaps",
        "description": "To understand where one's own digital competence needs to be improved or updated. To be able to support others with their digital competence development. To seek opportunities for self-development and to keep up-to-date with the digital evolution.",
        "questions": [
            {
                "id": "5.4.1",
                "statement": "I can identify areas where my digital skills need improvement.",
                "type": "K",
                "level": "I"
            },
            {
                "id": "5.4.2",
                "statement": "I can find learning resources to improve my digital competence.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "5.4.3",
                "statement": "I can help others learn to use digital tools and technologies.",
                "type": "S",
                "level": "I"
            },
            {
                "id": "5.4.4",
                "statement": "I stay updated with new digital technologies and trends.",
                "type": "A",
                "level": "I"
            }
        ]
    }
}

# Learning resources for each sub-competency
LEARNING_RESOURCES = {
    "1.1": {
        "title": "Browsing, searching and filtering data, information and digital content",
        "resources": [
            {
                "title": "Search Better Tutorial",
                "description": "Learn essential online search techniques and tips for finding information more effectively.",
                "url": "https://edu.gcfglobal.org/en/searchbetter/",
                "source": "GCFGlobal.org"
            }
        ]
    },
    "1.2": {
        "title": "Evaluating data, information and digital content",
        "resources": [
            {
                "title": "Civic Online Reasoning",
                "description": "Free lessons and assessments to help you evaluate online information critically.",
                "url": "https://cor.inquirygroup.org/",
                "source": "Stanford History Education Group"
            }
        ]
    },
    "1.3": {
        "title": "Managing data, information and digital content",
        "resources": [
            {
                "title": "Google Drive Tutorial",
                "description": "Learn how to use cloud storage and document management tools effectively.",
                "url": "https://edu.gcfglobal.org/en/googledriveanddocs/",
                "source": "GCFGlobal.org"
            }
        ]
    },
    "2.1": {
        "title": "Interacting through digital technologies",
        "resources": [
            {
                "title": "Intro to Email",
                "description": "Get started with email communication and learn best practices.",
                "url": "https://www.digitallearn.org/courses/intro-to-email",
                "source": "DigitalLearn.org"
            }
        ]
    },
    "2.2": {
        "title": "Sharing through digital technologies",
        "resources": [
            {
                "title": "Google Drive for Collaboration",
                "description": "Learn how to share and collaborate on documents using cloud tools.",
                "url": "https://edu.gcfglobal.org/en/googledriveanddocs/",
                "source": "GCFGlobal.org"
            },
            {
                "title": "Digital Civic Toolkit",
                "description": "Resources for responsible digital citizenship and online participation.",
                "url": "https://www.digitalcivicstoolkit.org/closingreflection",
                "source": "Digital Civic Toolkit"
            }
        ]
    },
    "2.3": {
        "title": "Engaging in citizenship through digital technologies",
        "resources": [
            {
                "title": "Be Internet Awesome",
                "description": "Interactive game to learn digital citizenship and online safety.",
                "url": "https://beinternetawesome.withgoogle.com/en_us/interland",
                "source": "Google"
            }
        ]
    },
    "2.4": {
        "title": "Collaborating through digital technologies",
        "resources": [
            {
                "title": "Google Drive Collaboration",
                "description": "Master collaborative document editing and team workflows.",
                "url": "https://edu.gcfglobal.org/en/googledriveanddocs/",
                "source": "GCFGlobal.org"
            }
        ]
    },
    "2.5": {
        "title": "Netiquette",
        "resources": [
            {
                "title": "National Cybersecurity Alliance",
                "description": "Comprehensive resources for online safety and responsible digital behavior.",
                "url": "https://www.staysafeonline.org/",
                "source": "National Cybersecurity Alliance"
            }
        ]
    },
    "2.6": {
        "title": "Managing digital identity",
        "resources": [
            {
                "title": "Digital Identity Management",
                "description": "Learn how to protect and manage your online presence and reputation.",
                "url": "https://www.staysafeonline.org/",
                "source": "National Cybersecurity Alliance"
            }
        ]
    },
    "3.1": {
        "title": "Developing digital content",
        "resources": [
            {
                "title": "Microsoft Office Tutorials",
                "description": "Learn to create professional documents, presentations, and spreadsheets.",
                "url": "https://edu.gcfglobal.org/en/subjects/office/",
                "source": "GCFGlobal.org"
            },
            {
                "title": "LibreOffice Resources",
                "description": "Free alternative to Microsoft Office with similar functionality.",
                "url": "https://www.libreoffice.org/",
                "source": "LibreOffice"
            }
        ]
    },
    "3.2": {
        "title": "Integrating and re-elaborating digital content",
        "resources": [
            {
                "title": "OER Commons",
                "description": "Find and share open educational resources for learning and teaching.",
                "url": "https://oercommons.org/",
                "source": "OER Commons"
            }
        ]
    },
    "3.3": {
        "title": "Copyright and licences",
        "resources": [
            {
                "title": "Creative Commons",
                "description": "Understand copyright, licensing, and how to share content legally.",
                "url": "https://creativecommons.org/mission/",
                "source": "Creative Commons"
            }
        ]
    },
    "3.4": {
        "title": "Programming",
        "resources": [
            {
                "title": "freeCodeCamp",
                "description": "Learn to code with free interactive tutorials and projects.",
                "url": "https://www.freecodecamp.org/",
                "source": "freeCodeCamp"
            }
        ]
    },
    "4.1": {
        "title": "Protecting devices",
        "resources": [
            {
                "title": "Take Control of Your Tech",
                "description": "Learn to create healthier boundaries with technology and protect your digital wellbeing.",
                "url": "https://www.humanetech.com/take-control",
                "source": "Center for Humane Technology"
            }
        ]
    },
    "4.2": {
        "title": "Protecting personal data and privacy",
        "resources": [
            {
                "title": "Digital Privacy Guide",
                "description": "Comprehensive guide to protecting your personal data online.",
                "url": "https://www.humanetech.com/take-control",
                "source": "Center for Humane Technology"
            }
        ]
    },
    "5.1": {
        "title": "Solving technical problems",
        "resources": [
            {
                "title": "Basic Troubleshooting Techniques",
                "description": "Learn fundamental computer troubleshooting skills and problem-solving approaches.",
                "url": "https://edu.gcfglobal.org/en/computerbasics/basic-troubleshooting-techniques/1/",
                "source": "GCFGlobal.org"
            }
        ]
    },
    "5.2": {
        "title": "Identifying needs and technological responses",
        "resources": [
            {
                "title": "AlternativeTo",
                "description": "Find alternative software solutions for your specific needs.",
                "url": "https://alternativeto.net/",
                "source": "AlternativeTo"
            }
        ]
    },
    "5.3": {
        "title": "Using digital tools to innovate processes and products",
        "resources": [
            {
                "title": "Instructables",
                "description": "Learn to make things and innovate with step-by-step guides and community projects.",
                "url": "https://www.instructables.com/",
                "source": "Instructables"
            }
        ]
    },
    "4.3": {
        "title": "Protecting health and well-being",
        "resources": [
            {
                "title": "Digital Wellbeing",
                "description": "Learn about healthy technology use and digital wellbeing practices.",
                "url": "https://wellbeing.google/",
                "source": "Google"
            }
        ]
    },
    "4.4": {
        "title": "Protecting the environment",
        "resources": [
            {
                "title": "Green Web Foundation",
                "description": "Learn about sustainable web design and reducing digital carbon footprint.",
                "url": "https://www.thegreenwebfoundation.org/",
                "source": "Green Web Foundation"
            }
        ]
    },
    "5.4": {
        "title": "Identifying digital competence gaps",
        "resources": [
            {
                "title": "Digital Skills Assessment",
                "description": "Take assessments to identify your digital skills gaps and find learning paths.",
                "url": "https://www.digitalskillsassessment.com/",
                "source": "Digital Skills Assessment"
            }
        ]
    }
}

# Helper functions for easier data access


def get_all_categories():
    """Get all available categories with their metadata"""
    return {
        category_id: {
            "id": category_id,
            "title": data["title"],
            "description": data["description"],
            "question_count": len(data["questions"])
        }
        for category_id, data in questions_data.items()
    }


def get_category_questions(category_id):
    """Get all questions for a specific category"""
    if category_id in questions_data:
        return questions_data[category_id]["questions"]
    return []


def get_category_info(category_id):
    """Get category information including title and description"""
    if category_id in questions_data:
        return {
            "id": category_id,
            "title": questions_data[category_id]["title"],
            "description": questions_data[category_id]["description"]
        }
    return None


def get_random_questions(category_id, count=5):
    """Get a random selection of questions from a category"""
    import random
    questions = get_category_questions(category_id)
    if len(questions) <= count:
        return questions
    return random.sample(questions, count)


def get_all_questions():
    """Get all questions from all categories in a flat list"""
    all_questions = []
    for category_id, data in questions_data.items():
        for question in data["questions"]:
            question["category_id"] = category_id
            question["category_title"] = data["title"]
            all_questions.append(question)
    return all_questions

# Legacy format for backward compatibility


def get_legacy_data():
    """Get data in the original flat format for backward compatibility"""
    legacy_questions = []
    for category_id, data in questions_data.items():
        for question in data["questions"]:
            legacy_questions.append({
                "DigComp": category_id,
                "Statement": question["statement"],
                "Type": question["type"],
                "Level": question["level"]
            })
    return {"questions": legacy_questions}


# Export the main data structure
data = questions_data


def get_main_competency_subcategories(main_competency):
    """Get all sub-competencies for a main competency area (e.g., '1' for Information and Data Literacy)"""
    subcategories = {}
    for category_id, data in questions_data.items():
        if category_id.startswith(f"{main_competency}."):
            subcategories[category_id] = {
                "id": category_id,
                "title": data["title"],
                "description": data["description"],
                "questions": data["questions"]
            }
    return subcategories


def get_all_questions_for_main_competency(main_competency):
    """Get all questions from all sub-competencies of a main competency"""
    all_questions = []
    for category_id, data in questions_data.items():
        if category_id.startswith(f"{main_competency}."):
            for question in data["questions"]:
                question["sub_competency"] = category_id
                question["sub_competency_title"] = data["title"]
                all_questions.append(question)
    return all_questions


def calculate_sub_competency_scores(answers, questions):
    """Calculate competence levels for each sub-competency based on answers"""
    sub_competency_scores = {}

    for i, question in enumerate(questions):
        sub_comp = question.get("sub_competency", ".".join(
            question.get("id", "").split(".")[:2]))
        if sub_comp not in sub_competency_scores:
            sub_competency_scores[sub_comp] = {
                "total_score": 0,
                "question_count": 0,
                "average_competence": 0,
                "title": question.get("sub_competency_title", f"Sub-competency {sub_comp}"),
                "learning_resources": get_learning_resources(sub_comp)
            }

        answer = answers[i] if i < len(answers) else 0
        sub_competency_scores[sub_comp]["total_score"] += answer
        sub_competency_scores[sub_comp]["question_count"] += 1

    # Calculate averages
    for sub_comp in sub_competency_scores:
        count = sub_competency_scores[sub_comp]["question_count"]
        if count > 0:
            sub_competency_scores[sub_comp]["average_competence"] = round(
                sub_competency_scores[sub_comp]["total_score"] / count, 2
            )

    # Sort by competence level (descending - most confident first)
    sorted_scores = dict(sorted(
        sub_competency_scores.items(),
        key=lambda x: x[1]["average_competence"],
        reverse=True
    ))

    return sorted_scores


def get_main_competency_info(main_competency):
    """Get information about a main competency area"""
    competency_names = {
        "1": "Information and Data Literacy",
        "2": "Communication and Collaboration",
        "3": "Digital Content Creation",
        "4": "Safety and Security",
        "5": "Problem Solving"
    }

    return {
        "id": main_competency,
        "name": competency_names.get(main_competency, f"Competency {main_competency}"),
        "sub_competencies": get_main_competency_subcategories(main_competency)
    }


def get_learning_resources(sub_competency):
    """Get learning resources for a specific sub-competency"""
    return LEARNING_RESOURCES.get(sub_competency, {
        "title": f"Sub-competency {sub_competency}",
        "resources": []
    })
